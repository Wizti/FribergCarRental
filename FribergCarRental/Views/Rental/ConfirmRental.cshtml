@model FribergCarRental.ViewModels.RentalViewModel

@{
    ViewData["Title"] = "ConfirmRental";
}

<h1>Bekräfta bokning</h1>

<div>
    <hr />
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Car.Model)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.StartDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.EndDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Car.Price)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => Model.Car.Model)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model.StartDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model.EndDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model.Car.Price)
                </td>
            </tr>

        </tbody>
    </table>

    <div>
        <h4><strong>Totalt pris: @(ViewBag.TotalPrice ?? "Price not available") </strong></h4>
    </div>
    <div>
        <form method="post" asp-controller="Rental" asp-action="Create">
            <input type="hidden" asp-for="Car.Model" value="@Model.Car.Model" />
            <input type="hidden" asp-for="StartDate" value="@Model.StartDate" />
            <input type="hidden" asp-for="EndDate" value="@Model.EndDate" />
            <input type="hidden" asp-for="Car.Price" value="@Model.Car.Price" />
            <input type="hidden" asp-for="Car.Id" value="@Model.Car.Id" />

            <div class="form-group">
                <input type="submit" value="Boka" class="btn btn-primary" />
            </div>
        </form>
    </div>
    <div>
        <a asp-action="AvailableCars" asp-controller="Rental"
           asp-route-CarId="@Model.Car.Id"
           asp-route-StartDate="@Model.StartDate.ToString("yyyy-MM-dd")"
           asp-route-EndDate="@Model.EndDate.ToString("yyyy-MM-dd")"
           class="btn btn-secondary">Tillbaka</a>
    </div>
</div>
